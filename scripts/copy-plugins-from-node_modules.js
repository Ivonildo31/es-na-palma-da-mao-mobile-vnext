const fs = require( 'fs-extra' );
const package = require( '../package.json' )

const exclude = [ 'cordova-android-play-services-gradle-release', 'cordova-android-support-gradle-release', 'cordova-plugin-ionic' ]
const includeDependencies = [ 'es6-promise-plugin', 'cordova-support-google-services', 'phonegap-plugin-multidex' ];

const plugins = package.cordova.plugins.concat(includeDependencies);

for ( key in plugins ) {
    if ( exclude.find( p => p == key ) ) {
        continue;
    }

    console.log( 'Copying ' + key );
    fs.copySync( 'node_modules/' + key, 'plugins/' + key, { overwrite: false } );
}
