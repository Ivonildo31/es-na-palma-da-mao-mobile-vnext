<ion-header>
  <edocs-documents-to-send-header></edocs-documents-to-send-header>
</ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="refresh()" #refresher>
    <ion-refresher-content> </ion-refresher-content>
  </ion-refresher>

  <ion-list no-lines>
    <ion-list-header>
      Encaminhar Documentos
    </ion-list-header>
    <ng-container>
      <ion-item>
        <div class="pageTitle">Adicionar Destinatário</div>
      </ion-item>
      <ion-item>
        <ion-label>Filtrar por:</ion-label>
        <ion-select cancelText="Cancelar" [(ngModel)]="selAddresseesTypeFilter" disabled required>
          <ion-option *ngFor="let addTypeFilter of addresseesTypeFilter" [value]="addTypeFilter">{{
            addTypeFilter.type
          }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-card class="alert-card">
        <ion-card-content>
          {{ selAddresseesTypeFilter.notice }}
        </ion-card-content>
      </ion-card>
      <p padding>Filtrar Órgão</p>
      <ion-searchbar
        placeholder="Digite para filtrar pelo Órgão"
        [showCancelButton]="true"
        cancelButtonText="Cancelar"
        [animated]="false"
        (ionInput)="search($event)"
        (ionClear)="clear($event)"
        (ionCancel)="clear($event)"
      ></ion-searchbar>
      <ion-item>
        <ion-scroll class="scrollable" scrollY="true" detail-none>
          <ion-list>
            <ion-item *ngFor="let agency of filteredGovAgencies" no-padding no-margin>
              <button ion-button color="light" round (click)="addAddressees(agency)">{{ agency.descricao }}</button>
            </ion-item>
          </ion-list>
          <ion-item *ngIf="filteredGovAgencies && !filteredGovAgencies.length" text-center no-lines id="not-founded">
              <h2>Nenhum Órgão encontrado</h2>
              <p>Tente mudar o filtro da consulta</p>
          </ion-item>
          <ion-spinner *ngIf="!filteredGovAgencies" page-loading></ion-spinner>
        </ion-scroll>
      </ion-item>
      <!--ion-item *ngIf="selAddresseesTypeFilter && govAgency && selAddresseesTypeFilter === 1">
        <p>Filtrar Setor</p>
        <ion-searchbar [(ngModel)]="govSector" (ionInput)="searchInput($event)"></ion-searchbar>
      </ion-item>
      <ion-item *ngIf="selAddresseesTypeFilter && govAgency && selAddresseesTypeFilter === 2">
        <p>Filtrar Grupos de Trabalho</p>
        <ion-searchbar [(ngModel)]="govGroup" (ionInput)="searchInput($event)"></ion-searchbar>
      </ion-item-->
    </ng-container>
  </ion-list>
</ion-content>
