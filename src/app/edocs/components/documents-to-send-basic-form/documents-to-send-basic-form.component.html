<form novalidate [formGroup]="form">
  <ion-item>
    <ion-label floating>Título do encaminhamento</ion-label>
    <ion-input type="text" formControlName="titleForward" name="titleForward"></ion-input>
  </ion-item>
  <espm-validation-message [errors]="validationErrors['titleForward']"></espm-validation-message>
  <ion-item class="forever-valid" *ngIf="form.get('titleForward')?.value">
    <ion-label floating>Usuário Remetente</ion-label>
    <ion-input type="text" formControlName="sender" name="sender"></ion-input>
  </ion-item>
  <espm-validation-message
    *ngIf="form.get('titleForward')?.value"
    [errors]="validationErrors['sender']"
  >
  </espm-validation-message>
  <ion-item *ngIf="form.get('titleForward')?.value && form.get('sender')?.value">
    <ion-label floating>Cargo/Função</ion-label>
    <ion-select
      cancelText="Cancelar"
      formControlName="role"
      name="role"
      [selectOptions]="roleSelectOptions"
      (ionChange)="roleSelectChange()"
    >
      <ion-option *ngFor="let role of roles" [value]="role.Guid">{{ role.Nome }}</ion-option>
    </ion-select>
  </ion-item>
  <espm-validation-message
    *ngIf="form.get('titleForward')?.value && form.get('sender')?.value"
    [errors]="validationErrors['role']"
  ></espm-validation-message>
  <ion-item *ngIf="form.get('titleForward')?.value && form.get('sender')?.value && form.get('role')?.value">
    <ion-label>Notificação por email</ion-label>
    <ion-toggle
      [(ngModel)]="notification"
      formControlName="notification"
      name="notification"
      (ionChange)="notificationChange()"
    >
    </ion-toggle>
  </ion-item>
  <espm-validation-message
    *ngIf="form.get('titleForward')?.value && form.get('sender')?.value"
    [errors]="validationErrors['notification']"
  >
  </espm-validation-message>
</form>
