<module-page title="Obras Públicas" no-padding>
  <ion-buttons topbar>
    <button icon-only
            (click)="openFilter()">
      <ion-icon name="options"></ion-icon>
    </button>
  </ion-buttons>
  <div>
  
    <report-title *ngIf="data"
                  [title]="reportTitle"
                  [info]="data.info"></report-title>
  
    <pie-chart [data]="data.chart"
               *ngIf="data?.chart"></pie-chart>
  
    <report-list-summary #header>
      <h2>Obras Públicas</h2>
    </report-list-summary>
    <ion-list *ngIf="data"
              [class.desc]="'desc' === header.sort">
      <default-item *ngFor="let item of data.listable"
                    [item]="item"
                    [clickable]="true"
                    navPush="TransparenciaPublicWorksByCityPage"
                    [navParams]="{cityId:item.id, filter: filter}"></default-item>
    </ion-list>
    <last-update *ngIf="data"
                 [date]="data.lastUpdate"></last-update>
  </div>

</module-page>